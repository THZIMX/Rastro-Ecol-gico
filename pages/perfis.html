<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Perfis Fict√≠cios - Pegada Ecol√≥gica</title>
  <link rel="stylesheet" href="../css/style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    /* [Estilos mantidos, sem altera√ß√µes aqui] */
    /* ... seus estilos completos aqui ... */
  </style>
</head>
<body>
  <header>
    <nav>
      <div class="logo">üë£ Pegada Ecol√≥gica</div>
      <button class="menu-toggle">‚ò∞</button>
      <ul class="menu">
        <li><a href="../index.html">In√≠cio</a></li>
        <li><a href="diagnostico.html">Diagn√≥stico</a></li>
        <li><a href="dados.html">Dados</a></li>
        <li><a href="perfis.html">Perfis</a></li>
        <li><a href="analise.html">An√°lise</a></li>
        <li><a href="participantes.html">Equipe</a></li>
      </ul>
    </nav>
  </header>
  <main>
    <section id="perfis" class="section">
      <div class="container">
        <h2>Perfis Fict√≠cios</h2>
        <p>Conhe√ßa perfis com estilos de vida diferentes e veja como seus h√°bitos impactam o meio ambiente.</p>
        
        <div class="perfil-cards">
          <div class="card impacto-baixo">
            <img src="../imagens/ana.png" class="avatar" alt="Ana Clara">
            <h3>Ana Clara <span class="tag verde">(baixo impacto)</span></h3>
            <p><strong>Idade:</strong> 24 anos</p>
            <p><strong>Profiss√£o:</strong> Professora de Ecologia</p>
            <p class="footprint">Rastro: 0,7 planeta Terra</p>
            <div class="descricao">Vegana, nunca consome produtos de origem animal

95% dos alimentos s√£o frescos e produzidos localmente

Mora em uma casa m√©dia com 2 pessoas, feita de tijolo/cimento

Toma banhos curtos com √°gua fria, n√£o usa ar-condicionado

Produz pouqu√≠ssimo lixo e separa corretamente (tem composteira)

Anda sempre a p√© (zero carro, zero transporte p√∫blico)

N√£o viaja de avi√£o

Usa energia renov√°vel em 75% da casa

Casa energeticamente eficiente</div>
            <button class="toggle-desc">Ver mais</button>
          </div>

          <div class="card impacto-medio">
            <img src="../imagens/diego.png" class="avatar" alt="Diego">
            <h3>Diego <span class="tag amarelo">(impacto m√©dio)</span></h3>
            <p><strong>Idade:</strong> 17 anos</p>
            <p><strong>Profiss√£o:</strong> Estudante</p>
            <p class="footprint">Rastro: 1,9 planeta Terra</p>
            <div class="descricao">Consome carne ocasionalmente (2 a 3 vezes por semana)

43% dos alimentos s√£o frescos e 30% s√£o locais

Mora com a fam√≠lia em casa m√©dia de 84 m¬≤, tijolo/cimento

Usa eletr√¥nicos com frequ√™ncia (celular, computador)

Produz lixo em quantidade m√©dia, principalmente vestu√°rio e m√≥veis

Usa transporte p√∫blico (50 km/semana), n√£o anda de carro

Compartilha transporte quando necess√°rio

N√£o viaja de avi√£o

45% da energia da casa √© renov√°vel

Efici√™ncia energ√©tica da casa √© m√©dia</div>
            <button class="toggle-desc">Ver mais</button>
          </div>

          <div class="card impacto-alto">
            <img src="../imagens/rafaela.png" class="avatar" alt="Rafaela">
            <h3>Rafaela <span class="tag vermelho">(alto impacto)</span></h3>
            <p><strong>Idade:</strong> 26 anos</p>
            <p><strong>Profiss√£o:</strong> Influencer</p>
            <p class="footprint">Rastro: 4.9 planetas Terra</p>
            <div class="descricao">Come carne quase todos os dias

Apenas 20% dos alimentos s√£o frescos e produzidos localmente

Mora sozinha em casa m√©dia (90 m¬≤), tijolo/cimento

Usa bastante ar-condicionado e ilumina√ß√£o artificial

Produz lixo em volume m√©dio (roupas, m√≥veis, eletr√¥nicos)

Anda 68 km por semana de carro (consumo: 7L/100 km), n√£o compartilha

N√£o usa transporte p√∫blico

Viaja de avi√£o cerca de 15h por ano

25% da energia da casa √© renov√°vel

A casa tem efici√™ncia energ√©tica acima da m√©dia</div>
            <button class="toggle-desc">Ver mais</button>
          </div>
        </div>

        <button id="compareBtn" class="compare-btn">Comparar Perfis Selecionados</button>
      </div>
    </section>

    <div class="container">
      <a href="../index.html" class="btn voltar">Voltar</a>
    </div>
  </main>

  <footer>
    <div class="container">
      <p>&copy; 2025 - Site feito por Mateus para a Feira de Ci√™ncias</p>
    </div>
  </footer>

  <!-- Modal -->
  <div id="modalComparacao">
    <div class="modal-content">
      <span class="close-btn">&times;</span>
      <h2>Compara√ß√£o de Perfis</h2>
      <table class="comparison-table">
        <thead>
          <tr><th>Nome</th><th>Idade</th><th>Profiss√£o</th><th>Rastro Ecol√≥gico</th></tr>
        </thead>
        <tbody id="comparisonBody"></tbody>
      </table>
      <canvas id="planetChart" width="400" height="200"></canvas>
    </div>
  </div>

  <script>
    const cards = document.querySelectorAll('.card');
    const compareBtn = document.getElementById('compareBtn');

    cards.forEach(card => {
      card.addEventListener('click', () => {
        card.classList.toggle('selected');
        updateComparison();
      });
    });

    function updateComparison() {
      const selected = document.querySelectorAll('.card.selected');
      compareBtn.classList.toggle('show', selected.length >= 2);
    }

    document.querySelectorAll('.toggle-desc').forEach(btn => {
      btn.addEventListener('click', () => {
        const desc = btn.previousElementSibling;
        desc.classList.toggle('show');
        btn.textContent = desc.classList.contains('show') ? 'Ver menos' : 'Ver mais';
      });
    });

    compareBtn.addEventListener('click', () => {
      const selected = document.querySelectorAll('.card.selected');
      const body = document.getElementById('comparisonBody');
      body.innerHTML = '';

      let nomes = [], planetas = [];
      selected.forEach(card => {
        const nome = card.querySelector('h3').childNodes[0].textContent.trim();
        const idade = card.querySelector('p:nth-of-type(1)').textContent.split(':')[1].trim();
        const profissao = card.querySelector('p:nth-of-type(2)').textContent.split(':')[1].trim();
        const rastroTexto = card.querySelector('.footprint').textContent;
        const planeta = parseFloat(rastroTexto.match(/([\d.,]+) planet/)[1].replace(',', '.'));
        nomes.push(nome);
        planetas.push(planeta);
        body.innerHTML += `<tr><td>${nome}</td><td>${idade}</td><td>${profissao}</td><td>${planeta} üåç</td></tr>`;
      });

      document.getElementById('modalComparacao').style.display = 'flex';

      const ctx = document.getElementById('planetChart').getContext('2d');
      if (window.planetChart) window.planetChart.destroy();
      window.planetChart = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: nomes,
          datasets: [{
            label: 'N¬∫ de Planetas Consumidos',
            data: planetas,
            backgroundColor: ['#4CAF50', '#FFC107', '#F44336']
          }]
        },
        options: {
          responsive: true,
          scales: {
            y: { beginAtZero: true, max: 5 }
          }
        }
      });
    });

    document.querySelector('.close-btn').addEventListener('click', () => {
      document.getElementById('modalComparacao').style.display = 'none';
    });
  </script>
</body>
</html>
